<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty-1.3.xsd"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://nifty-gui.sourceforge.net/nifty-1.3.xsd http://nifty-gui.sourceforge.net/nifty-1.3.xsd">
	<useStyles filename="nifty-default-styles.xml" />
	<useStyles filename="Interface/style.xml" />
	<useControls filename="nifty-default-controls.xml" />

	<!-- Train Pop Up -->

	<!-- Pop up panel with the buttons to action trains -->

	<popup id="trainPopup" childLayout="absolute-inside"
		controller="org.mmarini.scala.jmonkey.PopupController">
		<interact onClick="closePopup()" onSecondaryClick="closePopup()"
			onTertiaryClick="closePopup()" />
		<effect>
			<onStartScreen name="fade" length="200" />
			<onEndScreen name="fade" start="#f" end="#0" length="200" />
		</effect>
		<panel id="trainPane" x="100" y="300" childLayout="vertical">
			<panel childLayout="horizontal">
				<image id="startTrain" filename="Interface/start.png"
					visibleToMouse="true" margin="5px">
				</image>
				<image id="stopTrain" filename="Interface/stop.png"
					visibleToMouse="true" margin="5px">
				</image>
			</panel>
			<panel childLayout="horizontal">
				<image id="reverseTrain" filename="Interface/reverse.png"
					visibleToMouse="true" margin="5px">
				</image>
				<image id="cameraTrain" filename="Interface/camera.png"
					visibleToMouse="true" margin="5px">
				</image>
			</panel>
		</panel>
	</popup>

	<!-- Semaphore Pop Up -->

	<!-- Pop up panel with the buttons to action semaphores an tracks -->

	<popup id="semPopup" childLayout="absolute-inside"
		controller="org.mmarini.scala.jmonkey.PopupController">
		<interact onClick="closePopup()" onSecondaryClick="closePopup()"
			onTertiaryClick="closePopup()" />
		<effect>
			<onStartScreen name="fade" length="200" />
			<onEndScreen name="fade" start="#f" end="#0" length="200" />
		</effect>
		<panel id="semPane" x="100" y="300" childLayout="vertical"
			backgroundColor="#0008">
			<image id="clear" filename="Interface/sem-green.png"
				visibleToMouse="true" />
			<image id="lock" filename="Interface/sem-red.png"
				visibleToMouse="true" />
		</panel>
	</popup>

	<screen id="game-screen" controller="org.mmarini.scala.railways.GameController">

		<!-- Control Tab Panel -->

		<!-- Tab panel with the controls of cameras, trains, messages, performance -->

		<layer childLayout="vertical">
			<panel width="360" align="right" childLayout="vertical">
				<panel childLayout="horizontal"
					controller="org.mmarini.scala.railways.TabbedController">
					<panel id="cameraTab" style="panel.selectedTab">
						<image filename="Interface/camera1.png" style="image.tab-panel" />
					</panel>
					<panel id="trainTab" style="panel.unselectedTab">
						<image filename="Interface/treno.png" style="image.tab-panel" />
					</panel>
					<panel id="messageTab" style="panel.unselectedTab">
						<image filename="Interface/messages.png" style="image.tab-panel" />
					</panel>
					<panel id="performanceTab" style="panel.unselectedTab">
						<image filename="Interface/perform.png" style="image.tab-panel" />
					</panel>
				</panel>

				<panel id="contentTabPane" childLayout="overlay">

					<!-- Camera Panel -->

					<!-- Panel with the list of predefined cameras -->
					<panel id="cameraPanel" childLayout="vertical" visible="true">
						<panel childLayout="horizontal" backgroundColor="#888f"
							padding="5px" controller="org.mmarini.scala.railways.CameraController">
						</panel>
						<panel />
					</panel>

					<!-- Train Panel -->

					<!-- Panel with the list of train -->

					<panel id="trainPanel" childLayout="vertical" visible="false">
						<panel childLayout="horizontal" backgroundColor="#000f"
							padding="5px" controller="org.mmarini.scala.railways.TrainController" />
						<panel />
					</panel>

					<!-- Message Panel -->

					<!-- Panel with the list of messages -->

					<panel id="messagesPanel" childLayout="vertical" visible="false">
						<panel childLayout="horizontal" backgroundColor="#888f"
							padding="5px" controller="org.mmarini.scala.railways.MessageController"
							width="*" />
						<panel />
					</panel>

					<panel id="performancePanel" childLayout="vertical" visible="false">
						<panel childLayout="vertical" backgroundColor="#888f" width="*">

							<text text="Duration" style="text.performance-title" />
							<panel childLayout="horizontal">
								<image filename="Interface/crono.png" style="image.perfomance-icon" />
								<panel style="panel.performance-content">
									<text id="perf-duration" style="text.performance-value" />
								</panel>
							</panel>

							<text text="Arrivals" style="text.performance-title" />
							<panel childLayout="horizontal">
								<image filename="Interface/arrival-train.png" style="image.perfomance-icon" />
								<panel style="panel.performance-content">
									<text id="perf-arrivals" text="?" style="text.performance-value" />
									<text id="perf-arrivals-freq" text="?"
										style="text.performance-value" />
								</panel>
							</panel>

							<text text="Departures" style="text.performance-title" />
							<panel childLayout="horizontal">
								<image filename="Interface/departure-train.png" style="image.perfomance-icon" />
								<panel style="panel.performance-content">
									<text id="perf-departures" text="?" style="text.performance-value" />
									<text id="perf-departures-freq" text="?"
										style="text.performance-value" />
									<text id="perf-departures-perc" text="?"
										style="text.performance-value" />
								</panel>
							</panel>

							<text text="Errors" style="text.performance-title" />
							<panel childLayout="horizontal">
								<image filename="Interface/error-train.png" style="image.perfomance-icon" />
								<panel style="panel.performance-content">
									<text id="perf-errors" text="?" style="text.performance-value" />
									<text id="perf-errors-freq" text="?" style="text.performance-value" />
									<text id="perf-errors-perc" text="?" style="text.performance-value" />
								</panel>
							</panel>
						</panel>
						<panel />
					</panel>
				</panel>
			</panel>
		</layer>

		<!-- Camera Controller Panel -->

		<!-- Panel with the buttons to move the camera -->

		<layer childLayout="vertical">
			<panel childLayout="vertical" align="left">
				<image id="quit" style="image.quit" />
			</panel>
			<panel />
			<panel childLayout="vertical">
				<panel childLayout="horizontal">
					<panel style="panel.gridbag" />
					<image id="up" style="image.up" />
					<panel style="panel.gridbag" />
				</panel>
				<panel childLayout="horizontal">
					<image id="left" style="image.left" />
					<panel style="panel.gridbag" />
					<image id="right" style="image.right" />
				</panel>
				<panel childLayout="horizontal">
					<panel style="panel.gridbag" />
					<image id="down" style="image.down" />
					<panel style="panel.gridbag" />
				</panel>
			</panel>
		</layer>
	</screen>

</nifty>